# ადმინისტრატორის შექმნის ინსტრუქცია

ამ ინსტრუქციის მიხედვით შეძლებთ Firestore-ში ადმინის სტატუსის მიცემას მომხმარებლისთვის. ახლა ვებგვერდის ადმინისტრატორის პანელზე წვდომა და ცვლილებების განხორციელება შეუძლია მხოლოდ იმ მომხმარებელს, რომელსაც აქვს ადმინისტრატორის სტატუსი.

## ახალი ადმინისტრატორის დამატება

1. გახსენით Firebase Console: https://console.firebase.google.com/
2. აირჩიეთ თქვენი პროექტი: "serodani-b031d"
3. მარცხენა მენიუდან აირჩიეთ "Firestore Database"
4. შექმენით ახალი კოლექცია "admins" (თუ ის უკვე არ არსებობს)
5. დაამატეთ ახალი დოკუმენტი ამ კოლექციაში:
   - Document ID: მომხმარებლის ელფოსტა (მაგ: "admin@example.com")
   - ველები:
     - `isAdmin`: boolean (true)
     - `createdAt`: timestamp (ახლანდელი დრო)
     - `displayName`: string (ადმინისტრატორის სახელი)

## არსებული მომხმარებლისთვის ადმინის სტატუსის მინიჭება

თუ მომხმარებელი უკვე დარეგისტრირებულია სისტემაში:

1. გახსენით Firebase Console
2. მარცხენა მენიუდან აირჩიეთ "Firestore Database"
3. მოძებნეთ "users" კოლექცია
4. იპოვეთ მომხმარებლის დოკუმენტი ელფოსტით ან uid-ით
5. დაარედაქტირეთ დოკუმენტი და დაამატეთ/შეცვალეთ:
   - `isAdmin`: boolean (true)

## ადმინისტრატორის შესვლა

ადმინისტრატორი შესვლას შეძლებს:

1. Google-ის ანგარიშით შესვლა
2. ელფოსტა/პაროლით შესვლა

პირველი შესვლისას, თუ მომხმარებელი არ არის Firebase Authentication-ში, მაგრამ მისი ელფოსტა არის "admins" კოლექციაში, მას ავტომატურად მიენიჭება ადმინის სტატუსი.

## უსაფრთხოების წესების შესახებ

1. Firestore წესები:
   - დაცულია ყველა კოლექცია ადმინის სტატუსის შემოწმებით
   - მხოლოდ ადმინებს შეუძლია წერა და წაკითხვა დაცულ კოლექციებში
   - პუბლიკური კოლექციების (მაგ. ოთახები, გალერეა) წაკითხვა ყველას შეუძლია

2. Realtime Database წესები:
   - ჯავშნების კოლექციაში ცვლილებების შეტანა შეუძლია მხოლოდ ადმინებს
   - ავტორიზებულ მომხმარებელს შეუძლია ჯავშნის შექმნა და საკუთარი ჯავშნის ნახვა
   - მხოლოდ ადმინებს შეუძლია ჯავშნების სტატუსის ცვლილება

## ადმინისტრატორის ამოშლა

1. გახსენით Firebase Console
2. მარცხენა მენიუდან აირჩიეთ "Firestore Database"
3. მოძებნეთ "admins" კოლექცია
4. წაშალეთ მომხმარებლის დოკუმენტი

ან

1. მოძებნეთ "users" კოლექციაში მომხმარებლის დოკუმენტი
2. შეცვალეთ `isAdmin` ველი false-ზე 