# Arealy ჯავშნის სისტემაზე გადასვლის ინსტრუქცია

## შესავალი

ეს დოკუმენტი აღწერს, თუ როგორ უნდა მოხდეს არსებული Firebase-ზე დაფუძნებული დაჯავშნის სისტემიდან Arealy-ს სისტემაზე გადასვლა. Arealy არის სასტუმროს მართვის სპეციალიზებული სისტემა, რომელიც საშუალებას გაძლევთ მართოთ დაჯავშნები უფრო მოხერხებულად.

## ცვლილებების მიმოხილვა

1. **ინტეგრაცია:** შექმნილია ახალი `/booking` გვერდი, სადაც ინტეგრირებულია Arealy-ს დაჯავშნის სისტემა
2. **გადამისამართება:** შექმნილია `/book-redirect` გვერდი, რომელიც უზრუნველყოფს გადამისამართებას ძველი URL-ებიდან ახალ სისტემაზე
3. **ღილაკები:** განახლებულია BookingButton კომპონენტი, რომელიც ახლა მიმართავს Arealy-ს სისტემას

## ნაბიჯ-ნაბიჯ გადასვლის გეგმა

### 1. ოთახების კონფიგურაცია Arealy-ში

1. დარწმუნდით, რომ ყველა ოთახი სწორად არის კონფიგურირებული Arealy-ს სისტემაში
2. ჩაინიშნეთ თითოეული ოთახის ID Arealy-ს სისტემაში (მაგ. `173`)

### 2. კოდის ცვლილებები

1. განაახლეთ `src/components/booking-button.tsx` ფაილში `AREALY_ROOM_TYPES` ობიექტი თქვენი ოთახების ID-ებით:

```typescript
export const AREALY_ROOM_TYPES = {
  STANDARD: '173',
  DELUXE: '174',  // თქვენი Arealy-ს ID-ები
  SUITE: '175',   // თქვენი Arealy-ს ID-ები
  // დაამატეთ სხვა ოთახის ტიპები
}
```

2. განაახლეთ `src/app/book-redirect/page.tsx` ფაილში `roomMapping` ობიექტი, სადაც ძველი ოთახების ID-ებს შეუსაბამებთ Arealy-ს ID-ებს:

```typescript
const roomMapping: Record<string, string> = {
  'default': '173', // Arealy-ს default ოთახი
  'room-1': '173',  // თქვენი ოთახის ID -> Arealy ID
  'room-2': '174',  // თქვენი ოთახის ID -> Arealy ID
  // დაამატეთ სხვა ოთახები
}
```

### 3. სამიმართულებიანი სტრატეგია

ჯავშნის სისტემის ცვლილების დროს რეკომენდებულია სამი ფაზიანი მიდგომა:

#### ფაზა 1: პარალელური რეჟიმი (1 კვირა)
- ორივე სისტემა აქტიურია
- ახალ მომხმარებლებს მიმართავთ Arealy-ზე
- აკონტროლებთ, რომ ორივე სისტემა სწორად მუშაობს

#### ფაზა 2: გადასვლის რეჟიმი (1 კვირა)
- ყველა დაჯავშნის ღილაკი გადაიყვანეთ Arealy-ზე
- ძველი URL-ები გადაამისამართეთ /book-redirect გვერდზე
- შეინარჩუნეთ წვდომა Firebase-ზე, არსებული ჯავშნების სანახავად

#### ფაზა 3: სრული გადასვლა
- შეწყვიტეთ Firebase-ის დაჯავშნის სისტემის გამოყენება
- სრულად გადადით Arealy-ს სისტემაზე
- შეინახეთ ძველი ჯავშნების მონაცემები საარქივო მიზნებისთვის

### 4. კოდში საჭირო ცვლილებები

#### საიტის ყველა გვერდზე, სადაც BookingModal გამოიყენება:

1. იპოვეთ ყველა ადგილი, სადაც BookingModal კომპონენტი გამოიყენება
2. ჩაანაცვლეთ ის BookingButton კომპონენტით, რომელიც ახალ Arealy გვერდზე გადაამისამართებს:

```tsx
// ძველი:
<Button onClick={() => setBookingModalOpen(true)}>
  დაჯავშნა
</Button>
<BookingModal 
  isOpen={bookingModalOpen} 
  onClose={() => setBookingModalOpen(false)} 
  room={room} 
/>

// ახალი:
<BookingButton 
  roomTypeId={AREALY_ROOM_TYPES.STANDARD} 
  stayDuration={2}
>
  დაჯავშნა
</BookingButton>
```

### 5. კონტროლების და ანალიზის რეკომენდაციები

1. **ჯავშნების გადატანა:** აწარმოეთ მიმდინარე ჯავშნების რეკორდი და გადაიტანეთ Arealy-ში საჭიროებისამებრ
2. **მომხმარებლის უკუკავშირი:** შეაგროვეთ უკუკავშირი მომხმარებლებისგან ახალ სისტემასთან დაკავშირებით
3. **ანალიტიკა:** ჩართეთ ანალიტიკა, რომ დააკვირდეთ ახალი სისტემის გამოყენებას

### 6. გაუქმება და შენახვა

Firebase-ში არსებული ჯავშნები რეკომენდებულია, რომ:
1. არ წაშალოთ მონაცემთა ბაზიდან
2. მოახდინოთ მათი ექსპორტი რეგულარულად
3. შეინახოთ ისტორიული მიზნებისთვის

## ტექნიკური დოკუმენტაცია

### ახალი კომპონენტები

1. **src/app/booking/page.tsx** - Arealy-ს იფრეიმის შემცველი გვერდი
2. **src/app/book-redirect/page.tsx** - რედირექტის გვერდი ძველი ლინკებისთვის
3. **src/components/booking-button.tsx** - განახლებული ღილაკის კომპონენტი

### გამოყენების მაგალითები

#### ძირითადი ოთახის დაჯავშნა:
```tsx
import { BookingButton } from "@/components/booking-button"
import { AREALY_ROOM_TYPES } from "@/components/booking-button"

<BookingButton 
  roomTypeId={AREALY_ROOM_TYPES.STANDARD}
  stayDuration={2}
>
  დაჯავშნა
</BookingButton>
```

#### გადამისამართების ლინკის გამოყენება:
```tsx
import Link from "next/link"

<Link href={`/book-redirect?roomId=room-1&checkIn=2023-07-20&checkOut=2023-07-22`}>
  დაჯავშნა
</Link>
```

## დახმარება და კონტაქტი

თუ გჭირდებათ დახმარება Arealy-ს ინტეგრაციასთან დაკავშირებით, დაუკავშირდით:
- ლარა კველაძე (lara@area.ly) 